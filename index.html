<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOLD RECOVERY 44xx PRO</title>
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; text-align: center; padding: 15px; }
        .box { border: 2px solid #f0b90b; border-radius: 15px; padding: 25px; background: #1c1f24; margin-bottom: 20px; box-shadow: 0 0 20px rgba(240, 185, 11, 0.3); }
        .price { font-size: 48px; font-weight: bold; color: #f0b90b; }
        .rsi { font-size: 26px; color: #2ebd85; margin: 10px 0; font-weight: bold; }
        input { width: 90%; padding: 15px; margin: 10px 0; border-radius: 10px; border: 1px solid #444; background: #1e2329; color: white; font-size: 18px; text-align: center; }
        button { width: 100%; padding: 18px; background: #f0b90b; color: black; font-weight: bold; border-radius: 10px; border: none; cursor: pointer; font-size: 20px; }
        #status { margin-top: 15px; color: #848e9c; font-size: 14px; }
    </style>
</head>
<body>
    <div class="box">
        <div style="color: #f0b90b; font-size: 18px; font-weight: bold; margin-bottom: 10px;">V√ÄNG (XAU/USD) - EXNESS 44xx</div>
        <div id="price" class="price">0.00</div>
        <div id="rsi" class="rsi">RSI: --</div>
    </div>

    <input type="number" id="exPrice" step="0.01" placeholder="Nh·∫≠p gi√° Exness (VD: 4413.00)...">
    <button onclick="startBot()">K√çCH HO·∫†T H·ªÜ TH·ªêNG</button>
    <div id="status">Ch·ªù bro nh·∫≠p gi√° 44xx ƒë·ªÉ ƒë·ªìng b·ªô...</div>

    <script>
        const TOKEN = "8586899878:AAHONzWJqzUMswUPMjn5xaWvYrwDHSH4OYE";
        const CHAT_ID = "7994694689";
        let offset = 0;
        let lastAction = "";

        async function startBot() {
            const val = parseFloat(document.getElementById('exPrice').value);
            if(!val) return alert("Bro nh·∫≠p gi√° 4413 hi·ªán t·∫°i tr√™n Exness ƒë√£!");
            
            try {
                // ƒê·ªìng b·ªô h√≥a d·ª±a tr√™n gi√° PAXG Binance
                const r = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=PAXGUSDT');
                const d = await r.json();
                offset = val - parseFloat(d.price);
                
                document.getElementById('status').innerText = "üöÄ ƒê√É K·∫æT N·ªêI - ƒêANG QU√âT K√àO V√ÄNG...";
                sendTele("üî± [H·ªÜ TH·ªêNG FULL] ƒê√É K√çCH HO·∫†T!\nüéØ M·ª•c ti√™u: Recovery $23\nüìä Chi·∫øn thu·∫≠t: RSI 65/35 | SL 5 - TP 10");
                setInterval(update, 3000); // Qu√©t m·ªói 3s
            } catch (e) { alert("L·ªói k·∫øt n·ªëi API!"); }
        }

        async function update() {
            try {
                // Qu√©t d·ªØ li·ªáu n·∫øn 1 ph√∫t
                const r = await fetch('https://api.binance.com/api/v3/klines?symbol=PAXGUSDT&interval=1m&limit=30');
                const d = await r.json();
                const p = d.map(x => parseFloat(x[4]));
                const currentPrice = p[p.length - 1] + offset;

                // T√≠nh to√°n RSI 14 phi√™n
                let g = 0, l = 0;
                for (let i = p.length - 14; i < p.length; i++) {
                    let diff = p[i] - p[i-1];
                    if (diff >= 0) g += diff; else l -= diff;
                }
                const rsi = 100 - (100 / (1 + (g / l)));

                document.getElementById('price').innerText = currentPrice.toFixed(2);
                document.getElementById('rsi').innerText = "RSI: " + rsi.toFixed(2);

                // LOGIC B√ÅO K√àO V·ªöI TP/SL T·ªêI ∆ØU CHO GI√Å 44xx
                if (rsi >= 65 && lastAction !== "SELL") {
                    const sl = (currentPrice + 5.0).toFixed(2); // C·∫Øt l·ªó 5 gi√°
                    const tp = (currentPrice - 10.0).toFixed(2); // Ch·ªët l·ªùi 10 gi√°
                    sendTele(`üîî [K√àO V√ÄNG SELL]\nüìç Entry: ${currentPrice.toFixed(2)}\nüö´ SL: ${sl}\n‚úÖ TP: ${tp}\nüìä RSI: ${rsi.toFixed(2)}`);
                    lastAction = "SELL";
                } 
                else if (rsi <= 35 && lastAction !== "BUY") {
                    const sl = (currentPrice - 5.0).toFixed(2);
                    const tp = (currentPrice + 10.0).toFixed(2);
                    sendTele(`üîî [K√àO V√ÄNG BUY]\nüìç Entry: ${currentPrice.toFixed(2)}\nüö´ SL: ${sl}\n‚úÖ TP: ${tp}\nüìä RSI: ${rsi.toFixed(2)}`);
                    lastAction = "BUY";
                } 
                // Reset tr·∫°ng th√°i khi RSI v·ªÅ v√πng trung t√≠nh
                else if (rsi > 45 && rsi < 55) {
                    lastAction = "";
                }
            } catch (e) {}
        }

        function sendTele(m) {
            fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(m)}`);
        }
    </script>
</body>
</html>
