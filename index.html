<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BTC MAX VIP BOT</title>
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; text-align: center; padding: 10px; }
        .card { border: 2px solid #f3ba2f; border-radius: 15px; padding: 20px; background: #1e2329; box-shadow: 0 0 30px rgba(243, 186, 47, 0.3); }
        .price { font-size: 45px; font-weight: bold; color: #f3ba2f; }
        .vip-status { color: #00ff88; font-weight: bold; font-size: 14px; margin-bottom: 10px; }
        .log-box { text-align: left; background: #000; padding: 10px; height: 160px; overflow-y: auto; font-size: 12px; margin-top: 15px; color: #00ff88; border: 1px solid #333; border-radius: 5px; }
        button { width: 100%; padding: 20px; background: #f3ba2f; color: black; font-weight: bold; border-radius: 12px; border: none; font-size: 22px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="card">
        <div class="vip-status">üíé CH·∫æ ƒê·ªò: MAX VIP - MULTI TARGET</div>
        <div id="btcPrice" class="price">0.00</div>
        <div id="info" style="font-size: 16px; color: #848e9c;">RSI M1: -- | RSI M5: --</div>
        <div id="logs" class="log-box">H·ªá th·ªëng Max VIP ƒëang kh·ªüi ƒë·ªông...</div>
        <button onclick="startVipBot()">K√çCH HO·∫†T H·ªÜ TH·ªêNG VIP</button>
    </div>

    <script>
        const TOKEN = "8586899878:AAHONzWJqzUMswUPMjn5xaWvYrwDHSH4OYE";
        const CHAT_ID = "7994694689";
        let lastAction = "", lastUpdateId = 0, isPaused = false;
        const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3');

        function addLog(msg) {
            const l = document.getElementById('logs');
            l.innerHTML += `<br>üöÄ ${msg}`;
            l.scrollTop = l.scrollHeight;
        }

        async function startVipBot() {
            addLog("ƒê√£ k√≠ch ho·∫°t ch·∫ø ƒë·ªô MAX VIP!");
            setInterval(updateVipData, 2000); // Qu√©t gi√° 2s/l·∫ßn
            setInterval(checkTeleCommands, 2000);
            sendTele("üíé BTC MAX VIP ONLINE!\nüìç Target: SL 100 - TP1: 100, TP2: 250, TP3: 500\nüîä ƒê√£ b·∫≠t √¢m thanh c·∫£nh b√°o.");
        }

        async function getRsi(interval) {
            const r = await fetch(`https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=${interval}&limit=100`);
            const d = await r.json();
            const prices = d.map(x => parseFloat(x[4]));
            let g = 0, l = 0;
            for (let i = prices.length - 14; i < prices.length; i++) {
                let diff = prices[i] - prices[i-1];
                if (diff >= 0) g += diff; else l -= diff;
            }
            return { rsi: 100 - (100 / (1 + (g / l))), price: prices[prices.length - 1] };
        }

        async function updateVipData() {
            if (isPaused) return;
            try {
                const m1 = await getRsi('1m');
                const m5 = await getRsi('5m');
                
                document.getElementById('btcPrice').innerText = m1.price.toFixed(2);
                document.getElementById('info').innerText = `RSI M1: ${m1.rsi.toFixed(2)} | RSI M5: ${m5.rsi.toFixed(2)}`;

                // Logic VIP: RSI M1 ch·∫°m ng∆∞·ª°ng + ƒê·ªìng thu·∫≠n h∆∞·ªõng M5 (ho·∫∑c M5 qu√° b√°n/mua)
                if (m1.rsi <= 40 && lastAction !== "BUY") {
                    triggerVipSignal("BUY", m1.price, m1.rsi, m5.rsi);
                    lastAction = "BUY";
                } else if (m1.rsi >= 60 && lastAction !== "SELL") {
                    triggerVipSignal("SELL", m1.price, m1.rsi, m5.rsi);
                    lastAction = "SELL";
                }
            } catch (e) {}
        }

        function triggerVipSignal(side, price, rsi1, rsi5) {
            audio.play(); // Ph√°t ti·∫øng Ting Ting
            const sl = side === "SELL" ? price + 100 : price - 100;
            const tp1 = side === "SELL" ? price - 100 : price + 100;
            const tp2 = side === "SELL" ? price - 250 : price + 250;
            const tp3 = side === "SELL" ? price - 500 : price + 500;
            
            let m = `üíé [K√àO MAX VIP ${side}]\nüìç Entry: ${price}\nüö´ SL: ${sl.toFixed(2)}\n\nüéØ TP1: ${tp1.toFixed(2)} (D·ªùi SL v·ªÅ Entry)\nüéØ TP2: ${tp2.toFixed(2)}\nüéØ TP3: ${tp3.toFixed(2)}\n\nüìä RSI M1: ${rsi1.toFixed(2)} | M5: ${rsi5.toFixed(2)}`;
            sendTele(m);
            addLog(`ƒê√£ n·ªï k√®o VIP ${side} t·∫°i ${price}`);
        }

        async function checkTeleCommands() {
            try {
                const r = await fetch(`https://api.telegram.org/bot${TOKEN}/getUpdates?offset=${lastUpdateId + 1}`);
                const d = await r.json();
                if (!d.result) return;
                for (let u of d.result) {
                    lastUpdateId = u.update_id;
                    const msg = u.message.text.toLowerCase();
                    if (msg === "/tp" || msg === "/sl") { lastAction = ""; sendTele("‚úÖ ƒê√£ s·∫µn s√†ng sƒÉn k√®o VIP m·ªõi!"); }
                    if (msg === "/check") sendTele(`üíé VIP CHECK:\nGi√°: ${document.getElementById('btcPrice').innerText}\n${document.getElementById('info').innerText}`);
                }
            } catch (e) {}
        }

        function sendTele(m) { fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(m)}`); }
    </script>
</body>
</html>
