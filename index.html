<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BTC PRO SCALPER - WINRATE 60%</title>
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; text-align: center; padding: 15px; }
        .box { border: 2px solid #2ebd85; border-radius: 15px; padding: 20px; background: #1e2329; margin-bottom: 15px; box-shadow: 0 0 20px rgba(46, 189, 133, 0.2); }
        .price { font-size: 38px; font-weight: bold; color: #f0b90b; }
        .rsi { font-size: 26px; color: #2ebd85; margin: 10px 0; }
        button { width: 100%; padding: 18px; background: #2ebd85; color: white; font-weight: bold; border-radius: 10px; border: none; cursor: pointer; font-size: 20px; }
        #status { font-size: 13px; color: #848e9c; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="box">
        <div style="color: #848e9c; font-size: 14px;">BTC/USD (CH·∫æ ƒê·ªò TIN C·∫¨Y CAO)</div>
        <div id="price" class="price">ƒêANG SOI K√àO...</div>
        <div id="rsi" class="rsi">RSI: --</div>
    </div>
    <input type="number" id="exPrice" style="width:90%;padding:15px;margin-bottom:15px;border-radius:10px;border:1px solid #444;background:#1e2329;color:white;" placeholder="Nh·∫≠p gi√° Exness ƒë·ªÉ ƒë·ªìng b·ªô...">
    <button onclick="sync()">K√çCH HO·∫†T CH·∫æ ƒê·ªò 60%+</button>
    <div id="status">Tr·∫°ng th√°i: ƒêang ƒë·ª£i l·ªánh SYNC t·ª´ bro...</div>

    <script>
        const TOKEN = "8586899878:AAHONzWJqzUMswUPMjn5xaWvYrwDHSH4OYE";
        const CHAT_ID = "7994694689";
        let offset = 0;
        let lastAction = ""; 

        async function sync() {
            const val = parseFloat(document.getElementById('exPrice').value);
            if(!val) return alert("Bro ch∆∞a nh·∫≠p gi√° k√¨a!");
            const r = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT');
            const d = await r.json();
            offset = val - parseFloat(d.price);
            document.getElementById('status').innerText = "‚úÖ ƒê√É K√çCH HO·∫†T - CH·ªà B√ÅO K√àO ƒê·ªò TIN C·∫¨Y CAO";
            sendTele("üéØ BOT ƒê√É S·∫¥N S√ÄNG! Ch·∫ø ƒë·ªô Winrate 60%+ ƒë√£ b·∫≠t. ƒêang ƒë·ª£i s√≥ng...");
            update();
        }

        async function update() {
            try {
                const r = await fetch('https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=1m&limit=30');
                const d = await r.json();
                const p = d.map(x => parseFloat(x[4]));
                const last = p[p.length - 1];

                let g = 0, l = 0;
                for (let i = p.length - 14; i < p.length; i++) {
                    let diff = p[i] - p[i-1];
                    if (diff >= 0) g += diff; else l -= diff;
                }
                const rsi = 100 - (100 / (1 + (g / l)));

                document.getElementById('price').innerText = (last + offset).toFixed(2);
                document.getElementById('rsi').innerText = "RSI: " + rsi.toFixed(2);

                // CHI·∫æN THU·∫¨T 60%+: Ng∆∞·ª°ng an to√†n 65/35
                // Sell khi RSI c·ª±c cao (Qu√° mua), Buy khi RSI c·ª±c th·∫•p (Qu√° b√°n)
                if (rsi >= 65 && lastAction !== "SELL") {
                    sendTele("üíé [K√àO CHU·∫®N SELL] Gi√°: " + (last + offset).toFixed(2) + " | RSI: " + rsi.toFixed(2));
                    lastAction = "SELL";
                } else if (rsi <= 35 && lastAction !== "BUY") {
                    sendTele("üíé [K√àO CHU·∫®N BUY] Gi√°: " + (last + offset).toFixed(2) + " | RSI: " + rsi.toFixed(2));
                    lastAction = "BUY";
                } else if (rsi > 40 && rsi < 60) {
                    lastAction = ""; // Reset tr·∫°ng th√°i khi v·ªÅ v√πng an to√†n
                }
            } catch (e) {}
        }

        function sendTele(m) {
            fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(m)}`);
        }
        setInterval(update, 5000); 
    </script>
</body>
</html>
